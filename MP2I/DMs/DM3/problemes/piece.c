#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include "piece.h"

int n_pieces = 10;
Piece pieces[10] = {
{'T',3,3,4,
    {{1,1,1,0},
     {0,1,0,0},
     {0,1,0,0},
     {0,0,0,0}}
},
{'V',3,3,2,
    {{1,1,1,0},
     {1,0,0,0},
     {1,0,0,0},
     {0,0,0,0}}
},
{'b',2,3,4,
    {{1,1,1,0},
     {1,1,0,0},
     {0,0,0,0},
     {0,0,0,0}}
},
{'L',2,4,4,
    {{1,1,1,1},
     {1,0,0,0},
     {0,0,0,0},
     {0,0,0,0}}
},
{'C',2,3,2,
    {{1,1,1,0},
     {1,0,1,0},
     {0,0,0,0},
     {0,0,0,0}}
},
{'I',1,4,2,
    {{1,1,1,1},
     {0,0,0,0},
     {0,0,0,0},
     {0,0,0,0}}
},
{'S',2,4,4,
    {{1,1,1,0},
     {0,0,1,1},
     {0,0,0,0},
     {0,0,0,0}}
},
{'Z',3,3,2,
    {{1,1,0,0},
     {0,1,0,0},
     {0,1,1,0},
     {0,0,0,0}}
},
{'s',2,3,2,
    {{1,1,0,0},
     {0,1,1,0},
     {0,0,0,0},
     {0,0,0,0}}
},
{'l',2,3,4,
    {{1,1,1,0},
     {1,0,0,0},
     {0,0,0,0},
     {0,0,0,0}}
}};

Piece rotation(Piece p){
    Piece t = {p.nom, p.n_col, p.n_ligne, p.n_rot,
                {{0,0,0,0},
                 {0,0,0,0},
                 {0,0,0,0},
                 {0,0,0,0}}
                };;
    for (int i=0; i<t.n_ligne; i++){
        for (int j=0; j<t.n_col; j++){
        t.tab[i][j] = p.tab[j][t.n_ligne-1-i];
        }
    }
    return t;
}

Piece symetrie(Piece p){
    Piece t = {p.nom, p.n_ligne, p.n_col, p.n_rot,
                {{0,0,0,0},
                 {0,0,0,0},
                 {0,0,0,0},
                 {0,0,0,0}}
                };;
    for (int i=0; i<t.n_ligne; i++){
        for (int j=0; j<t.n_col; j++){
        t.tab[i][j] = p.tab[i][t.n_col-1-j];
        }
    }
    return t;
}
