#!/usr/bin/env python3
# -*- coding:utf-8 -*-
# type: ignore
from matplotlib import pyplot as plt
import numpy as np

valeurs_n = list(range(0, 100**2, 100))
# copié-collé depuis OCaml
temps_a = [3.00000000308e-06, 0.000426999999998, 0.001736, 0.003694, 0.005213, 0.004845, 0.006799, 0.008564, 0.010622, 0.013373, 0.016757, 0.020083, 0.023977, 0.028438, 0.032687, 0.03787, 0.043067, 0.050198, 0.056375, 0.061832, 0.068076, 0.075006, 0.083348, 0.093796, 0.098987, 0.107423, 0.119778, 0.125991, 0.138381, 0.146463, 0.15872, 0.170487, 0.180572, 0.190646, 0.205478, 0.219091, 0.232028, 0.248693, 0.258693, 0.275346, 0.289896, 0.30005, 0.319434, 0.339468, 0.355925, 0.378323, 0.391417, 0.415781, 0.42549, 0.444651, 0.462683, 0.480875, 0.50239, 0.525886, 0.540579, 0.563767, 0.58608, 0.613583, 0.626479, 0.655249, 0.679259, 0.70354, 0.732492, 0.748903, 0.784452, 0.8097, 0.832941, 0.866337, 0.884176, 0.914972, 0.939658, 0.971775, 1.008485, 1.047137, 1.078341, 1.12195, 1.14188, 1.174445, 1.1935, 1.246971, 1.262373, 1.314649, 1.344757, 1.404627, 1.412309, 1.456805, 1.497267, 1.545594, 1.559515, 1.593585, 1.648392, 1.732806, 1.730009, 1.767391, 1.816599, 1.860167, 1.914578, 1.976908, 2.006798, 2.058318]
temps_b = [3.00000000042e-06, 0.000185999999999, 0.000401999999999, 0.000705, 0.000845, 0.001052, 0.00127, 0.001735, 0.001769, 0.001874, 0.00177, 0.001522, 0.001347, 0.001403, 0.001486, 0.001667, 0.001897, 0.00194, 0.002026, 0.002272, 0.002321, 0.002466, 0.002615, 0.002773, 0.002943, 0.00318, 0.003353, 0.003418, 0.003531, 0.003602, 0.003814, 0.003848, 0.004017, 0.004119, 0.004265, 0.004299, 0.004587, 0.004588, 0.004791, 0.004933, 0.005168, 0.005233, 0.005355, 0.005525, 0.005774, 0.005808, 0.006106, 0.006088, 0.006304, 0.006372, 0.006553, 0.006978, 0.007091, 0.007306, 0.00706, 0.007332, 0.007403, 0.007431, 0.007643, 0.007726, 0.007948, 0.00807, 0.008242, 0.008353, 0.008546, 0.008614, 0.008881, 0.009011, 0.009108, 0.00914, 0.009373, 0.009672, 0.010642, 0.010645, 0.011025, 0.011105, 0.011455, 0.011038, 0.011237, 0.011413, 0.011188, 0.012009, 0.011635, 0.011597, 0.011927, 0.012162, 0.012084, 0.012028, 0.012342, 0.01258, 0.012703, 0.012739, 0.013183, 0.013202, 0.013295, 0.013532, 0.013948, 0.01399, 0.014252, 0.014521]

a, b, c = np.polyfit(valeurs_n, temps_a, 2)
d, e = np.polyfit(valeurs_n, temps_b, 1)
n_carré = [a*(n**2) + b*n + c for n in range(100**2)]
n = [d*n + e for n in range(100**2)]

print(a, b, c)
print(d, e)

plt.plot(valeurs_n, temps_a, label="Arbres binaires de recherche")
plt.plot(valeurs_n, temps_b, label="Arbres rouge-noir")
plt.plot(list(range(100**2)), n_carré, label="O(n²)")
plt.plot(list(range(100**2)), n, label="O(n)")

plt.xlabel("Nombre d’éléments")
plt.ylabel("Temps d’exécution")
plt.legend()
plt.grid()
plt.show()

plt.plot(valeurs_n, temps_b, label="Arbres rouge-noir")
plt.plot(list(range(100**2)), n, label="O(n)")

plt.xlabel("Nombre d’éléments")
plt.ylabel("Temps d’exécution")
plt.legend()
plt.grid()
plt.show()
